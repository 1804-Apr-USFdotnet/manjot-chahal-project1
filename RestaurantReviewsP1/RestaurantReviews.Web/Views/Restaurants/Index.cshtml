@model IEnumerable<RestaurantReviews.Library.Models.Restaurant>

@{
    ViewBag.Title = "Index";
}

<h2>Restaurants</h2>

<p>
    @*@Html.ActionLink("Create New", "Create")*@
    @*@Html.ActionLink("Create New", "Create", null, new { @class = "btn btn-default" })*@
    <div class="row">
        <div class="col-lg-6">
            @*<div class="input-group">
                <span class="input-group-btn">
                    <button class="btn btn-secondary" type="button">Go!</button>
                </span>
                <input type="text" class="form-control" placeholder="Search for...">
            </div>*@
            @Html.ActionLink("Create New", "Create", null, new { @class = "btn btn-default" })
        </div>
        <div class="col-lg-6">
            @*<div class="input-group">
                <input type="text" class="form-control" placeholder="Search for...">
                <span class="input-group-btn">
                    <button class="btn btn-secondary" type="button">Go!</button>
                </span>
            </div>*@
            <form asp-controller="Restaurants" asp-action="Index" method="get" class="d-flex float-right">
                        <input type="text" class="form-control " name="q" value=@ViewBag.Query>
                        <input type="submit" class="btn btn-primary " value="Search" />
                        @*<input type="submit" value="Search" />*@
            </form>
        </div>
    </div>
</p>

<p>
    Sort by: @Html.ActionLink("Name (Ascending)", "Index", new { id = 0, q = ViewBag.Query}) |
    @Html.ActionLink("Name (Descending)", "Index", new { id = 1, q = ViewBag.Query }) |
    @Html.ActionLink("Highest Rated", "Index", new { id = 2, q = ViewBag.Query }) |
    @Html.ActionLink("Most Reviewed", "Index", new { id = 3, q = ViewBag.Query })
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            Rating
        </th>
        <th>
            Reviews
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Street)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.State)
        </th>
        @*<th>
            @Html.DisplayNameFor(model => model.Country)
        </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Zipcode)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Phone)
        </th>
        @*<th>
            @Html.DisplayNameFor(model => model.Website)
        </th>*@
        @*<th>
            @Html.DisplayNameFor(model => model.Created)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Modified)
        </th>*@
        <th></th>
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @*@Html.DisplayFor(modelItem => item.Reviews.Count)*@
            @*@Html.DisplayFor(modelItem => revs)*@
            @Html.DisplayFor(modelItem => item.AverageRating)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ReviewCount)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Street)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.City)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.State)
        </td>
        @*<td>
            @Html.DisplayFor(modelItem => item.Country)
        </td>*@
        <td>
            @Html.DisplayFor(modelItem => item.Zipcode)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Phone)
        </td>
        @*<td>
            @Html.DisplayFor(modelItem => item.Website)
        </td>*@
        @*<td>
            @Html.DisplayFor(modelItem => item.Created)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Modified)
        </td>*@
        <td>
            @Html.ActionLink("Details", "Details", new { id = item.Id }) |
            @Html.ActionLink("Reviews", "Index", "Reviews", new { id = item.Id }, null) |
            @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.Id })
            @*@Html.ActionLink("Reviews", "Index", "Reviews", item, null)*@
        </td>
    </tr>
}

</table>
